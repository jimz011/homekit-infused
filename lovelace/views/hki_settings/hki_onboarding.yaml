- title: Onboarding
  path: onboarding
  cards:
    - type: vertical-stack
      cards:
        - !include
          - '../../templates/system_header_advanced.yaml'
          - name: Onboarding Process
            icon: mdi:clipboard-play
            spin: true
            content: Onboarding
            system_header: input_boolean.config_header
        - type: custom:search-card
          style: |
            ha-card {
              border-radius: none;
              box-shadow: none;
              --paper-card-background-color: rgba(0,0,0,0.0);
              --primary-text-color: var(--category-text) !important;
              color: var(--category-text) !important;
              --text-primary-color: var(--category-text) !important;
              --secondary-text-color: var(--category-text) !important;
              --disabled-text-color: var(--category-text) !important;
            }
          max_results: 10
        - type: horizontal-stack
          cards:
            - !include ../../includes/blank-card.yaml
            - type: custom:layout-card
              cards:
                - type: horizontal-stack
                  cards:
                    - type: conditional
                      conditions:
                        - entity: input_select.onboarding
                          state: "Language and Icons"
                      card:
                        type: custom:button-card
                        entity: input_select.onboarding
                        name: Back
                        icon: mdi:arrow-left-bold-circle-outline
                        show_label: false
                        show_name: true
                        tap_action:
                          action: call-service
                          service: input_select.select_option
                          service_data:
                            entity_id: input_select.onboarding
                            option: "Introduction"
                        hold_action:
                          action: none
                          haptic: heavy
                        styles:
                          card:
                            - border-radius: "[[[ return states['input_select.border_radius'].state ]]]"
                            - box-shadow: "[[[ return states['input_select.box_shadow'].state ]]]"
                            - opacity: 0.7
                            - height: 45px
                          name:
                            - font-size: 10px
                        state:
                          - value: "0"
                            styles:
                              card:
                                - --paper-card-background-color: white
                                - opacity: 1.0
                              name:
                                - color: Black
                              icon: 
                                - color: Crimson
                    - type: conditional
                      conditions:
                        - entity: input_select.onboarding
                          state_not: "Introduction"
                        - entity: input_select.onboarding
                          state_not: "Language and Icons"
                      card:
                        type: custom:button-card
                        entity: input_select.onboarding
                        name: Back
                        icon: mdi:arrow-left-bold-circle-outline
                        show_label: false
                        show_name: true
                        tap_action:
                          action: call-service
                          service: input_select.select_previous
                          service_data:
                            entity_id: input_select.onboarding
                        hold_action:
                          action: none
                          haptic: heavy
                        styles:
                          card:
                            - border-radius: "[[[ return states['input_select.border_radius'].state ]]]"
                            - box-shadow: "[[[ return states['input_select.box_shadow'].state ]]]"
                            - opacity: 0.7
                            - height: 45px
                          name:
                            - font-size: 10px
                        state:
                          - value: "0"
                            styles:
                              card:
                                - --paper-card-background-color: white
                                - opacity: 1.0
                              name:
                                - color: Black
                              icon: 
                                - color: Crimson
                    - type: conditional
                      conditions:
                        - entity: input_select.onboarding
                          state_not: "Finish"
                        - entity: input_select.onboarding
                          state_not: "Introduction"
                      card:
                        type: custom:button-card
                        entity: input_select.onboarding
                        icon: mdi:arrow-right-bold-circle-outline
                        name: Next
                        show_label: false
                        show_name: true
                        tap_action:
                          action: call-service
                          service: input_select.select_next
                          service_data:
                            entity_id: input_select.onboarding
                        hold_action:
                          action: none
                          haptic: heavy
                        styles:
                          card:
                            - border-radius: "[[[ return states['input_select.border_radius'].state ]]]"
                            - box-shadow: "[[[ return states['input_select.box_shadow'].state ]]]"
                            - opacity: 0.7
                            - height: 45px
                          name:
                            - font-size: 10px
                        state:
                          - value: "1"
                            styles:
                              card:
                                - --paper-card-background-color: white
                                - opacity: 1.0
                              name:
                                - color: Black
                              icon: 
                                - color: Crimson
                    - type: conditional
                      conditions:
                        - entity: input_select.onboarding
                          state: "Finish"
                      card:
                        type: custom:button-card
                        entity: input_select.onboarding
                        icon: mdi:arrow-right-bold-circle-outline
                        name: Finish
                        show_label: false
                        show_name: true
                        tap_action:
                          action: navigate
                          navigation_path: /lovelace/home
                          haptic: light
                        hold_action:
                          action: none
                          haptic: heavy
                        styles:
                          card:
                            - border-radius: "[[[ return states['input_select.border_radius'].state ]]]"
                            - box-shadow: "[[[ return states['input_select.box_shadow'].state ]]]"
                            - opacity: 0.7
                            - height: 45px
                          name:
                            - font-size: 10px
                        state:
                          - value: "1"
                            styles:
                              card:
                                - --paper-card-background-color: white
                                - opacity: 1.0
                              name:
                                - color: Black
                              icon: 
                                - color: Crimson
            - !include ../../includes/blank-card.yaml 
        - type: conditional
          conditions:
            - entity: input_select.onboarding
              state: "Introduction"
          card:
            type: horizontal-stack
            cards:
              - !include ../../includes/blank-card.yaml
              - type: custom:layout-card
                cards:
                  - type: markdown
                    style: |
                      ha-card {
                        background: rgba(0, 0, 0, 0.5);
                        border-radius: {{ states('input_select.border_radius') }};
                        box-shadow: {{ states('input_select.box_shadow') }};
                        font-size: 13px;
                        font-family: Helvetica;
                        color: white;
                      }                    
                    content: >
                      **Introduction:** Homekit Infused is a complete lovelace package with a built-in view/addon editor. 90% of all the configuration can be done through the interface in the HKI Settings view. However there are a few exceptions to this and you will (unfortunately) still need to do them in YAML.


                      **Exceptions:** Exceptions to this rule are the following configurations. Rooms, groups, notifications, deep-press and custom content.


                      **User Content:** This is the first edition of HKI that has it's own user folder and that should be the only folder you ever touch. Changing the configuration of the settings mentioned above can all be found in the `/user_content/` folder in the root of your Home Assistant install. Those are the only files you are allowed to touch without breaking HKI and those files will survive updates so you don't need to worry about losing your precious and time costly views/cards. You can create your own views, but those files also reside in this folder. Conclusion: Don't use any other files than the ones in the `/user_content/` folder!


                      **Customize:** If you have followed the documentation you should have setup `customize.yaml` this is required if you want some nice icons and names for your entities in different rooms. If you have not done so yet you should do that AFTER finishing the onboarding process.


                      **Rooms and Groups:** If you have followed the documentation you should have setup the `rooms_and_groups.yaml` file in the `/user_content/` folder. This is required for your lights, devices etc. to be auto-filled inside of the different views. Fail to set this up and none of your entities will show up. The groups section below the rooms are used for device counting and you should set them up! If you haven't set this file up yet please do so AFTER the onboarding process!


                      **Interface:** The entire rest of the configuration and layout can be done with ease from within the UI and changes are all instant! 
                      
                      
                      Press Continue to proceed.
                  - type: custom:button-card
                    entity: input_select.onboarding
                    name: Continue
                    show_label: false
                    show_icon: false
                    show_name: true
                    tap_action:
                      action: call-service
                      service: automation.trigger
                      service_data:
                        entity_id: automation.hki_onboarding
                    hold_action:
                      action: none
                    styles:
                      card:
                        - border-radius: "[[[ return states['input_select.border_radius'].state ]]]"
                        - box-shadow: "[[[ return states['input_select.box_shadow'].state ]]]"
                        - opacity: 0.7
                        - height: 45px
                      name:
                        - font-size: 10px
                        - justify-self: center
              - !include ../../includes/blank-card.yaml
        - type: conditional
          conditions:
            - entity: input_select.onboarding
              state: "Language and Icons"
          card:
            type: horizontal-stack
            cards:
              - !include ../../includes/blank-card.yaml
              - type: custom:layout-card
                cards:
                  - type: markdown
                    style: |
                      ha-card {
                        background: rgba(0, 0, 0, 0.5);
                        border-radius: {{ states('input_select.border_radius') }};
                        box-shadow: {{ states('input_select.box_shadow') }};
                        font-size: 13px;
                        font-family: Helvetica;
                        color: white;
                      }                    
                    content: >
                      **Language and Icons:** Please choose your Language and Icon set here. You can't skip this part! If you have FontAwesome Pro icons (svg generated and not the custom_component) you can choose to use those icons instead. Press next when finished to proceed.
                  - type: entities
                    title: Language and Icons
                    show_header_toggle: false                          
                    style: |
                      ha-card {
                        border-radius: {{ states('input_select.border_radius') }};
                        box-shadow: {{ states('input_select.box_shadow') }};
                      }                        
                    entities: 
                      - entity: input_select.language_selector
                        name: Language
                      - entity: input_select.icon_selector
                        name: Icons
              - !include ../../includes/blank-card.yaml
        - type: conditional
          conditions:
            - entity: input_select.onboarding
              state: "Persons"
          card:
            type: horizontal-stack
            cards:
              - !include ../../includes/blank-card.yaml
              - type: custom:layout-card
                cards:
                  - type: markdown
                    style: |
                      ha-card {
                        background: rgba(0, 0, 0, 0.5);
                        border-radius: {{ states('input_select.border_radius') }};
                        box-shadow: {{ states('input_select.box_shadow') }};
                        font-size: 13px;
                        font-family: Helvetica;
                        color: white;
                      }                    
                    content: >
                      **Persons:** Set the number of household persons you have and fill in the entities and image location. The images can be anything you want as long as you put them into your `/www/images/` folder.


                      **Frontpage:** The chosen number of persons will also set the amount of images displayed on the frontpage. You can cut images if you prefer smaller variants. If you have more persons than you want to show images, you can first set up the number of persons and then set it back to the number of persons you want to show on the frontpage. The settings for person 3 and 4 will be remembered even though it doesn't show you anymore.


                      **Sensors:** There are additional sensors which will be used in the frontpage images and might be used in other cards in the future. You can toggle the ones you want to use and fill in their entities.
                  - type: entities
                    title: Household Persons
                    show_header_toggle: false                          
                    style: |
                      ha-card {
                        border-radius: {{ states('input_select.border_radius') }};
                        box-shadow: {{ states('input_select.box_shadow') }};
                      }                        
                    entities: 
                      - entity: input_select.person_selector
                        name: Number of persons
              - type: conditional
                conditions:
                  - entity: input_select.person_selector
                    state_not: "None"
                card:
                  type: custom:layout-card
                  cards:
                    - type: entities
                      title: Person 1
                      show_header_toggle: false                            
                      style: |
                        ha-card {
                          border-radius: {{ states('input_select.border_radius') }};
                          box-shadow: {{ states('input_select.box_shadow') }};
                        }                          
                      entities: 
                        - entity: input_text.person_1_name
                          type: 'custom:text-input-row'
                        - entity: input_text.person_1_entity
                          type: 'custom:text-input-row'
                        - entity: input_text.person_1_image_path
                          type: 'custom:text-input-row'
                        - type: custom:hui-vertical-stack-card
                          cards:
                            - type: entities                       
                              style: |
                                ha-card {
                                  box-shadow: none;
                                }                                      
                                .card-content {
                                  padding: 0
                                }       
                              show_header_toggle: false 
                              entities:
                                - entity: input_boolean.person_01_battery
                                  name: Show Battery Information
                                  icon: mdi:battery
                                - type: custom:state-switch
                                  entity: input_boolean.person_01_battery
                                  states:
                                    "on":
                                      type: entities  
                                      style: |
                                        ha-card {
                                          box-shadow: none;
                                        }       
                                      show_header_toggle: false 
                                      entities:
                                        - entity: input_text.person_1_battery_entity
                                          type: 'custom:text-input-row'
                            - type: entities                       
                              style: |
                                ha-card {
                                  box-shadow: none;
                                }                                      
                                .card-content {
                                  padding: 0
                                }       
                              show_header_toggle: false 
                              entities:
                                - entity: input_boolean.person_01_travel
                                  name: Show Travel Information
                                  icon: mdi:car
                                - type: custom:state-switch
                                  entity: input_boolean.person_01_travel
                                  states:
                                    "on":
                                      type: entities  
                                      style: |
                                        ha-card {
                                          box-shadow: none;
                                        }       
                                      show_header_toggle: false 
                                      entities:
                                        - entity: input_text.person_1_travel_time_to_home
                                          type: 'custom:text-input-row'
                                        - entity: input_text.person_1_travel_time_to_work
                                          type: 'custom:text-input-row'
                            - type: entities                       
                              style: |
                                ha-card {
                                  box-shadow: none;
                                }                                      
                                .card-content {
                                  padding: 0
                                }       
                              show_header_toggle: false 
                              entities:
                                - entity: input_boolean.person_01_mail
                                  name: Show Unread Emails
                                  icon: mdi:email
                                - type: custom:state-switch
                                  entity: input_boolean.person_01_mail
                                  states:
                                    "on":
                                      type: entities  
                                      style: |
                                        ha-card {
                                          box-shadow: none;
                                        }       
                                      show_header_toggle: false 
                                      entities:
                                        - entity: input_text.person_1_email_entity
                                          type: 'custom:text-input-row'
              - type: conditional
                conditions:
                  - entity: input_select.person_selector
                    state_not: "None"
                  - entity: input_select.person_selector
                    state_not: "One Person"
                card:
                  type: custom:layout-card
                  cards:
                    - type: entities
                      title: Person 2
                      show_header_toggle: false                                
                      style: |
                        ha-card {
                          border-radius: {{ states('input_select.border_radius') }};
                          box-shadow: {{ states('input_select.box_shadow') }};
                        }                              
                      entities: 
                        - entity: input_text.person_2_name
                          type: 'custom:text-input-row'
                        - entity: input_text.person_2_entity
                          type: 'custom:text-input-row'
                        - entity: input_text.person_2_image_path
                          type: 'custom:text-input-row'
                        - type: custom:hui-vertical-stack-card
                          cards:
                            - type: entities                       
                              style: |
                                ha-card {
                                  box-shadow: none;
                                }                                      
                                .card-content {
                                  padding: 0
                                }       
                              show_header_toggle: false 
                              entities:
                                - entity: input_boolean.person_02_battery
                                  name: Show Battery Information
                                  icon: mdi:battery
                                - type: custom:state-switch
                                  entity: input_boolean.person_02_battery
                                  states:
                                    "on":
                                      type: entities  
                                      style: |
                                        ha-card {
                                          box-shadow: none;
                                        }       
                                      show_header_toggle: false 
                                      entities:
                                        - entity: input_text.person_2_battery_entity
                                          type: 'custom:text-input-row'
                            - type: entities                       
                              style: |
                                ha-card {
                                  box-shadow: none;
                                }                                      
                                .card-content {
                                  padding: 0
                                }       
                              show_header_toggle: false 
                              entities:
                                - entity: input_boolean.person_02_travel
                                  name: Show Travel Information
                                  icon: mdi:car
                                - type: custom:state-switch
                                  entity: input_boolean.person_02_travel
                                  states:
                                    "on":
                                      type: entities  
                                      style: |
                                        ha-card {
                                          box-shadow: none;
                                        }       
                                      show_header_toggle: false 
                                      entities:
                                        - entity: input_text.person_2_travel_time_to_home
                                          type: 'custom:text-input-row'
                                        - entity: input_text.person_2_travel_time_to_work
                                          type: 'custom:text-input-row'
                            - type: entities                       
                              style: |
                                ha-card {
                                  box-shadow: none;
                                }                                      
                                .card-content {
                                  padding: 0
                                }       
                              show_header_toggle: false 
                              entities:
                                - entity: input_boolean.person_02_mail
                                  name: Show Unread Emails
                                  icon: mdi:email
                                - type: custom:state-switch
                                  entity: input_boolean.person_02_mail
                                  states:
                                    "on":
                                      type: entities  
                                      style: |
                                        ha-card {
                                          box-shadow: none;
                                        }       
                                      show_header_toggle: false 
                                      entities:
                                        - entity: input_text.person_2_email_entity
                                          type: 'custom:text-input-row'
              - type: conditional
                conditions:
                  - entity: input_select.person_selector
                    state_not: "None"
                  - entity: input_select.person_selector
                    state_not: "One Person"
                  - entity: input_select.person_selector
                    state_not: "Two Persons"
                card: 
                  type: custom:layout-card
                  cards:
                    - type: entities
                      title: Person 3
                      show_header_toggle: false                                
                      style: |
                        ha-card {
                          border-radius: {{ states('input_select.border_radius') }};
                          box-shadow: {{ states('input_select.box_shadow') }};
                        }                              
                      entities: 
                        - entity: input_text.person_3_name
                          type: 'custom:text-input-row'
                        - entity: input_text.person_3_entity
                          type: 'custom:text-input-row'
                        - entity: input_text.person_3_image_path
                          type: 'custom:text-input-row'
                        - type: custom:hui-vertical-stack-card
                          cards:
                            - type: entities                       
                              style: |
                                ha-card {
                                  box-shadow: none;
                                }                                      
                                .card-content {
                                  padding: 0
                                }       
                              show_header_toggle: false 
                              entities:
                                - entity: input_boolean.person_03_battery
                                  name: Show Battery Information
                                  icon: mdi:battery
                                - type: custom:state-switch
                                  entity: input_boolean.person_03_battery
                                  states:
                                    "on":
                                      type: entities  
                                      style: |
                                        ha-card {
                                          box-shadow: none;
                                        }       
                                      show_header_toggle: false 
                                      entities:
                                        - entity: input_text.person_3_battery_entity
                                          type: 'custom:text-input-row'
                            - type: entities                       
                              style: |
                                ha-card {
                                  box-shadow: none;
                                }                                      
                                .card-content {
                                  padding: 0
                                }       
                              show_header_toggle: false 
                              entities:
                                - entity: input_boolean.person_03_travel
                                  name: Show Travel Information
                                  icon: mdi:car
                                - type: custom:state-switch
                                  entity: input_boolean.person_03_travel
                                  states:
                                    "on":
                                      type: entities  
                                      style: |
                                        ha-card {
                                          box-shadow: none;
                                        }       
                                      show_header_toggle: false 
                                      entities:
                                        - entity: input_text.person_3_travel_time_to_home
                                          type: 'custom:text-input-row'
                                        - entity: input_text.person_3_travel_time_to_work
                                          type: 'custom:text-input-row'
                            - type: entities                       
                              style: |
                                ha-card {
                                  box-shadow: none;
                                }                                      
                                .card-content {
                                  padding: 0
                                }       
                              show_header_toggle: false 
                              entities:
                                - entity: input_boolean.person_03_mail
                                  name: Show Unread Emails
                                  icon: mdi:email
                                - type: custom:state-switch
                                  entity: input_boolean.person_03_mail
                                  states:
                                    "on":
                                      type: entities  
                                      style: |
                                        ha-card {
                                          box-shadow: none;
                                        }       
                                      show_header_toggle: false 
                                      entities:
                                        - entity: input_text.person_3_email_entity
                                          type: 'custom:text-input-row'
              - type: conditional
                conditions:
                  - entity: input_select.person_selector
                    state_not: "None"
                  - entity: input_select.person_selector
                    state: "Four Persons"
                card:
                  type: custom:layout-card
                  cards:
                    - type: entities
                      title: Person 4
                      show_header_toggle: false                                
                      style: |
                        ha-card {
                          border-radius: {{ states('input_select.border_radius') }};
                          box-shadow: {{ states('input_select.box_shadow') }};
                        }                              
                      entities: 
                        - entity: input_text.person_4_name
                          type: 'custom:text-input-row'
                        - entity: input_text.person_4_entity
                          type: 'custom:text-input-row'
                        - entity: input_text.person_4_image_path
                          type: 'custom:text-input-row'
                        - type: custom:hui-vertical-stack-card
                          cards:
                            - type: entities                       
                              style: |
                                ha-card {
                                  box-shadow: none;
                                }                                      
                                .card-content {
                                  padding: 0
                                }       
                              show_header_toggle: false 
                              entities:
                                - entity: input_boolean.person_04_battery
                                  name: Show Battery Information
                                  icon: mdi:battery
                                - type: custom:state-switch
                                  entity: input_boolean.person_04_battery
                                  states:
                                    "on":
                                      type: entities  
                                      style: |
                                        ha-card {
                                          box-shadow: none;
                                        }       
                                      show_header_toggle: false 
                                      entities:
                                        - entity: input_text.person_4_battery_entity
                                          type: 'custom:text-input-row'
                            - type: entities                       
                              style: |
                                ha-card {
                                  box-shadow: none;
                                }                                      
                                .card-content {
                                  padding: 0
                                }       
                              show_header_toggle: false 
                              entities:
                                - entity: input_boolean.person_04_travel
                                  name: Show Travel Information
                                  icon: mdi:car
                                - type: custom:state-switch
                                  entity: input_boolean.person_04_travel
                                  states:
                                    "on":
                                      type: entities  
                                      style: |
                                        ha-card {
                                          box-shadow: none;
                                        }       
                                      show_header_toggle: false 
                                      entities:
                                        - entity: input_text.person_4_travel_time_to_home
                                          type: 'custom:text-input-row'
                                        - entity: input_text.person_4_travel_time_to_work
                                          type: 'custom:text-input-row'
                            - type: entities                       
                              style: |
                                ha-card {
                                  box-shadow: none;
                                }                                      
                                .card-content {
                                  padding: 0
                                }       
                              show_header_toggle: false 
                              entities:
                                - entity: input_boolean.person_04_mail
                                  name: Show Unread Emails
                                  icon: mdi:email
                                - type: custom:state-switch
                                  entity: input_boolean.person_04_mail
                                  states:
                                    "on":
                                      type: entities  
                                      style: |
                                        ha-card {
                                          box-shadow: none;
                                        }       
                                      show_header_toggle: false 
                                      entities:
                                        - entity: input_text.person_4_email_entity
                                          type: 'custom:text-input-row'
              - !include ../../includes/blank-card.yaml
        - type: conditional
          conditions:
            - entity: input_select.onboarding
              state: "Rooms"
          card:
            type: horizontal-stack
            cards:
              - !include ../../includes/blank-card.yaml
              - type: custom:layout-card
                cards:
                  - type: markdown
                    style: |
                      ha-card {
                        background: rgba(0, 0, 0, 0.5);
                        border-radius: {{ states('input_select.border_radius') }};
                        box-shadow: {{ states('input_select.box_shadow') }};
                        font-size: 13px;
                        font-family: Helvetica;
                        color: white;
                      }                    
                    content: >
                      **Rooms:** As mentioned before you MUST setup the `rooms_and_groups.yaml` file in the `/user_content/` folder. The roomnumbers in that file correspond to the roomnumbers in this configuration. Name your rooms here according to the groups you have setup. E.g. if you have setup your livingroom entities in room_1 then you must name room_1 `Livingroom`.


                      **Automagic:** If you have filled in the file mentioned above your views will be auto-filled. Selecting the amount of rooms on this view also decides how much rooms you see on the view. So if you have setup 5 rooms in the `rooms_and_groups.yaml` file and you setup 3 rooms in this view you will only see the first 3 rooms in HKI! You can make great use of this and show more rooms than you actually have (You can surely find some use for it yourself)
              - type: custom:layout-card
                cards:
                  - type: custom:layout-card
                    cards:        
                      - type: entities  
                        title: Floors                        
                        style: |
                          ha-card {
                            border-radius: {{ states('input_select.border_radius') }};
                            box-shadow: {{ states('input_select.box_shadow') }};
                            overflow: hidden;
                          }                        
                        show_header_toggle: false
                        entities:
                          - entity: input_select.floor_selector
                            name: Select number of floors
                      - type: conditional
                        conditions:
                          - state_not: "Select"
                            entity: input_select.floor_selector
                        card:
                          type: entities  
                          title: Ground Floor                        
                          style: |
                            ha-card {
                              border-radius: {{ states('input_select.border_radius') }};
                              box-shadow: {{ states('input_select.box_shadow') }};
                              overflow: hidden;
                            }                        
                          show_header_toggle: false
                          entities:
                            - entity: input_select.floor_0_room_selector
                              name: Select number of rooms
                            - type: custom:hui-vertical-stack-card
                              cards:
                                - type: entities                       
                                  style: |
                                    ha-card {
                                      box-shadow: none;
                                    }                                      
                                    .card-content {
                                      padding: 0
                                    }      
                                  show_header_toggle: false 
                                  entities:
                                    - type: custom:state-switch
                                      entity: input_select.floor_0_room_selector
                                      states:
                                        "1":
                                          type: entities  
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }       
                                          show_header_toggle: false 
                                          entities:
                                            - entity: input_text.room_1
                                              type: 'custom:text-input-row'
                                        "2":
                                          type: entities  
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }       
                                          show_header_toggle: false 
                                          entities:
                                            - entity: input_text.room_1
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_2
                                              type: 'custom:text-input-row'
                                        "3":
                                          type: entities  
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }       
                                          show_header_toggle: false 
                                          entities:
                                            - entity: input_text.room_1
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_2
                                              type: 'custom:text-input-row'       
                                            - entity: input_text.room_3
                                              type: 'custom:text-input-row'
                                        "4":
                                          type: entities  
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }       
                                          show_header_toggle: false 
                                          entities:
                                            - entity: input_text.room_1
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_2
                                              type: 'custom:text-input-row'       
                                            - entity: input_text.room_3
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_4
                                              type: 'custom:text-input-row'
                                        "5":
                                          type: entities  
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }       
                                          show_header_toggle: false 
                                          entities:
                                            - entity: input_text.room_1
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_2
                                              type: 'custom:text-input-row'       
                                            - entity: input_text.room_3
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_4
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_5
                                              type: 'custom:text-input-row'
                                        "6":
                                          type: entities  
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }       
                                          show_header_toggle: false 
                                          entities:
                                            - entity: input_text.room_1
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_2
                                              type: 'custom:text-input-row'       
                                            - entity: input_text.room_3
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_4
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_5
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_6
                                              type: 'custom:text-input-row'
                                        "7":
                                          type: entities  
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }       
                                          show_header_toggle: false 
                                          entities:
                                            - entity: input_text.room_1
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_2
                                              type: 'custom:text-input-row'       
                                            - entity: input_text.room_3
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_4
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_5
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_6
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_7
                                              type: 'custom:text-input-row'
                                        "8":
                                          type: entities  
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }       
                                          show_header_toggle: false 
                                          entities:
                                            - entity: input_text.room_1
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_2
                                              type: 'custom:text-input-row'       
                                            - entity: input_text.room_3
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_4
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_5
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_6
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_7
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_8
                                              type: 'custom:text-input-row'
                                        "9":
                                          type: entities  
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }       
                                          show_header_toggle: false 
                                          entities:
                                            - entity: input_text.room_1
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_2
                                              type: 'custom:text-input-row'       
                                            - entity: input_text.room_3
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_4
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_5
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_6
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_7
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_8
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_9
                                              type: 'custom:text-input-row'
                                        "10":
                                          type: entities  
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }       
                                          show_header_toggle: false 
                                          entities:
                                            - entity: input_text.room_1
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_2
                                              type: 'custom:text-input-row'       
                                            - entity: input_text.room_3
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_4
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_5
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_6
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_7
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_8
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_9
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_10
                                              type: 'custom:text-input-row'
                      - type: conditional
                        conditions:
                          - state_not: "1"
                            entity: input_select.floor_selector
                          - state_not: "Select"
                            entity: input_select.floor_selector
                        card:     
                          type: entities  
                          title: First Floor                        
                          style: |
                            ha-card {
                              border-radius: {{ states('input_select.border_radius') }};
                              box-shadow: {{ states('input_select.box_shadow') }};
                              overflow: hidden;
                            }                        
                          show_header_toggle: false
                          entities:
                            - entity: input_select.floor_1_room_selector
                              name: Select number of rooms
                            - type: custom:hui-vertical-stack-card
                              cards:
                                - type: entities                       
                                  style: |
                                    ha-card {
                                      box-shadow: none;
                                    }                                      
                                    .card-content {
                                      padding: 0
                                    }                      
                                  show_header_toggle: false
                                  entities:
                                    - type: custom:state-switch
                                      entity: input_select.floor_1_room_selector
                                      states:
                                        "1":
                                          type: entities
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }   
                                          show_header_toggle: false
                                          entities:
                                            - entity: input_text.room_11
                                              type: 'custom:text-input-row'
                                        "2":
                                          type: entities
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }   
                                          show_header_toggle: false
                                          entities:
                                            - entity: input_text.room_11
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_12
                                              type: 'custom:text-input-row'
                                        "3":
                                          type: entities
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }   
                                          show_header_toggle: false
                                          entities:
                                            - entity: input_text.room_11
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_12
                                              type: 'custom:text-input-row'       
                                            - entity: input_text.room_13
                                              type: 'custom:text-input-row'
                                        "4":
                                          type: entities
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }   
                                          show_header_toggle: false
                                          entities:
                                            - entity: input_text.room_11
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_12
                                              type: 'custom:text-input-row'       
                                            - entity: input_text.room_13
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_14
                                              type: 'custom:text-input-row'
                                        "5":
                                          type: entities
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }   
                                          show_header_toggle: false
                                          entities:
                                            - entity: input_text.room_11
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_12
                                              type: 'custom:text-input-row'       
                                            - entity: input_text.room_13
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_14
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_15
                                              type: 'custom:text-input-row'
                                        "6":
                                          type: entities
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }   
                                          show_header_toggle: false
                                          entities:
                                            - entity: input_text.room_11
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_12
                                              type: 'custom:text-input-row'       
                                            - entity: input_text.room_13
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_14
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_15
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_16
                                              type: 'custom:text-input-row'
                      - type: conditional
                        conditions:
                          - state_not: "1"
                            entity: input_select.floor_selector
                          - state_not: "2"
                            entity: input_select.floor_selector
                          - state_not: "Select"
                            entity: input_select.floor_selector
                        card:
                          type: entities  
                          title: Second Floor                        
                          style: |
                            ha-card {
                              border-radius: {{ states('input_select.border_radius') }};
                              box-shadow: {{ states('input_select.box_shadow') }};
                              overflow: hidden;
                            }                        
                          show_header_toggle: false
                          entities:
                            - entity: input_select.floor_2_room_selector
                              name: Select number of rooms
                            - type: custom:hui-vertical-stack-card
                              cards:
                                - type: entities                       
                                  style: |
                                    ha-card {
                                      box-shadow: none;
                                    }                                      
                                    .card-content {
                                      padding: 0
                                    }        
                                  show_header_toggle: false
                                  entities:
                                    - type: custom:state-switch
                                      entity: input_select.floor_2_room_selector
                                      states:
                                        "1":
                                          type: entities  
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }       
                                          show_header_toggle: false           
                                          entities:
                                            - entity: input_text.room_17
                                              type: 'custom:text-input-row'
                                        "2":
                                          type: entities  
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }       
                                          show_header_toggle: false 
                                          entities:
                                            - entity: input_text.room_17
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_18
                                              type: 'custom:text-input-row'
                                        "3":
                                          type: entities  
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }       
                                          show_header_toggle: false 
                                          entities:
                                            - entity: input_text.room_17
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_18
                                              type: 'custom:text-input-row'       
                                            - entity: input_text.room_19
                                              type: 'custom:text-input-row'
                                        "4":
                                          type: entities  
                                          style: |
                                            ha-card {
                                              box-shadow: none;
                                            }       
                                          show_header_toggle: false 
                                          entities:
                                            - entity: input_text.room_17
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_18
                                              type: 'custom:text-input-row'       
                                            - entity: input_text.room_19
                                              type: 'custom:text-input-row'
                                            - entity: input_text.room_20
                                              type: 'custom:text-input-row'
              - !include ../../includes/blank-card.yaml
        - type: conditional
          conditions:
            - entity: input_select.onboarding
              state: "Finish"
          card:
            type: horizontal-stack
            cards:
              - !include ../../includes/blank-card.yaml
              - type: custom:layout-card
                cards:
                  - type: markdown
                    style: |
                      ha-card {
                        background: rgba(0, 0, 0, 0.5);
                        border-radius: {{ states('input_select.border_radius') }};
                        box-shadow: {{ states('input_select.box_shadow') }};
                        font-size: 13px;
                        font-family: Helvetica;
                        color: white;
                      }                    
                    content: >
                      **Congratulations:** If you have followed all the steps from the documentation and the steps set out for you here you have succesfully installed HKI and you are now ready to use it.


                      **Configuration:** All other configuration such as widgets, alarms, weather, waste collection etc can be found in the HKI Settings menu.


                      **Themes:** You can set colors, border-radius and box-shadows for the entire setup within the Theme Manager in the HKI Settings menu.


                      **Edit Mode:** Edit mode is a new function which allows you to re-arrange each of the views, you can invoke the edit mode by tapping and holding the upper right corner of the header (on the sensor icons or blank space if the icons are not used). After invoking the edit mode a red bar will appear below the header, pressing on it will open the view editor. Note that the order of the widgets and buttons are fixed, this is a limitation of lovelace.


                      **Thanks:** Thank you for installing HKI and enjoy 2020 with this Homekit Style lovelace package. The onboarding process will not be used again, to improve a little performance you can safely delete the `/lovelace/views/hki_settings/hki_onboarding.yaml` file after pressing finish. You will however need to do this after each update. It is not required so you could simply leave this file.


                      Press FINISH to finish the onboarding process.
                  - type: custom:button-card
                    entity: input_select.onboarding
                    name: FINISH
                    show_label: false
                    show_icon: false
                    show_name: true
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace/home
                      haptic: light
                    hold_action:
                      action: navigate
                      navigation_path: /lovelace/home
                      haptic: heavy
                    styles:
                      card:
                        - border-radius: "[[[ return states['input_select.border_radius'].state ]]]"
                        - box-shadow: "[[[ return states['input_select.box_shadow'].state ]]]"
                        - opacity: 0.7
                        - height: 45px
                      name:
                        - font-size: 10px
                        - justify-self: center
              - !include ../../includes/blank-card.yaml